<!--////////////////////////////////////////////////////////////////////////////
//                                                                            //
//                        (C) 2014-2014  David Krutsko                        //
//                        See LICENSE.md for copyright                        //
//                                                                            //
/////////////////////////////////////////////////////////////////////////////-->

<!--////////////////////////////////////////////////////////////////////////////
// Imports                                                                    //
/////////////////////////////////////////////////////////////////////////////-->

<link rel="import" href="../vendor/paper-button/paper-button.html">
<link rel="import" href="../vendor/paper-progress/paper-progress.html">
<link rel="import" href="../vendor/core-icon/core-icon.html">



<!--////////////////////////////////////////////////////////////////////////////
// Elements                                                                   //
/////////////////////////////////////////////////////////////////////////////-->

<polymer-element name="llk-game" attributes="menu game">
<template>
	<link rel="stylesheet" href="llk-game.css" />

	<section layout vertical center center-justified cross-fade>

		<div class="container" layout horizontal>

			<core-icon size="32" id="menu"
				on-tap="{{showMenu}}" icon="llk-icons:back"   ></core-icon>
			<core-icon size="32" id="restart"
				on-tap="{{restart }}" icon="llk-icons:restart"></core-icon>

			<div flex></div>

			<div layout vertical center id="score">
				<h1>{{game.currScore}}</h1><h2>SCORE</h2>
			</div>
			<div layout vertical center id="best">
				<h1>{{game.bestScore[game.difficulty]}}</h1><h2>BEST</h2>
			</div>

		</div>

		<paper-progress id="timer" class="container" value="{{game.timeLeft}}"></paper-progress>

		<div id="board" class="container" layout vertical>
			<template repeat="{{i in game.boardSize}}">
				<div class="tiles {{game.difficulty}}" flex layout horizontal>
					<template repeat="{{i in game.boardSize}}">
						<paper-button class="tile {{game.difficulty}}" flex istoggle icon="llk-icons:icon-2"></paper-button>
					</template>
				</div>
			</template>
		</div>

		<div class="container" layout horizontal>
			<paper-button id="add-time" flex label="{{game.addTimeLeft}}" on-tap="{{addTime}}"></paper-button>
			<paper-button id="get-hint" flex label="{{game.getHintLeft}}" on-tap="{{getHint}}"></paper-button>
		</div>

	</section>
</template>



<!--////////////////////////////////////////////////////////////////////////////
// Scripts                                                                    //
/////////////////////////////////////////////////////////////////////////////-->

<script>

	Polymer ("llk-game",
	{
		restart : function() { this.game.restart(); },
		addTime : function() { this.game.addTime(); },
		getHint : function() { this.game.getHint(); },

		showMenu : function()
		{
			this.menu.transist = "tile";
			this.menu.selected = "menu";
		}
	});

</script>
</polymer-element>
